#N canvas 0 23 1440 855 12;
#X text 340 19 Simple Markov Chain;
#X text 559 26 Random numbers;
#X text 596 151 Probability;
#X obj 683 29 random 100;
#X obj 681 9 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X floatatom 683 52 5 0 0 0 - - - 0;
#X obj 811 9 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 811 29 expr random(10 \, 20);
#X floatatom 811 52 5 0 0 0 - - - 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-probs 3 float 3;
#A 0 14.0002 2.44433 10.778;
#X coords 0 16 3 0 195 72 1 0 0;
#X restore 695 123 graph;
#X obj 706 232 array random \$0-probs;
#X obj 705 211 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X floatatom 706 255 5 0 0 0 - - - 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-pat 10 float 3;
#A 0 1 0 1 0 2 1 2 1 0 2;
#X coords 0 2 10 0 219 80 1 0 0;
#X restore 21 206 graph;
#X text 239 196 Snare (2);
#X text 240 234 Kick (1);
#X text 241 276 Rest (0);
#X obj 684 261 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#N canvas 978 23 707 1027 probGen 0;
#X obj 37 37 inlet;
#X obj 37 60 f 16;
#X obj 37 83 until;
#X obj 56 301 tabwrite \$0-pat;
#X text 82 55 Every time we get a band \; 1-- we want to go to the
next index \; and then generate a \; 2 -- random value using \; \$0-probs
array;
#X obj 37 131 t b b, f 29;
#X obj 236 167 +;
#X obj 285 167 + 1;
#X obj 236 190 % 16;
#X obj 37 154 array random \$0-probs;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 5 0 9 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 8 0 3 1;
#X connect 9 0 3 0;
#X restore 684 284 pd probGen;
#X obj 19 12 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000
0 1;
#X obj 734 53 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#N canvas 1387 23 707 1027 randGen 0;
#X obj 37 37 inlet;
#X obj 37 60 f 16;
#X obj 37 83 until;
#X obj 56 301 tabwrite \$0-pat;
#X text 82 55 Every time we get a band \; 1-- we want to go to the
next index \; and then generate a \; 2 -- random value using \; \$0-probs
array;
#X obj 37 131 t b b, f 29;
#X obj 236 167 +;
#X obj 285 167 + 1;
#X obj 236 190 % 16;
#X obj 37 154 random 3;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 5 0 9 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 8 0 3 1;
#X connect 9 0 3 0;
#X restore 734 73 pd randGen;
#N canvas 80 23 1440 855 seq 1;
#X obj 37 7 inlet;
#X msg 21 223 35;
#X msg 97 223 38;
#X text 50 223 Kick;
#X text 127 222 Snare;
#X obj 386 479 makenote 100 250;
#X obj 432 518 noteout 10;
#X text 511 519 MIDI channel 10 --> drum sounds;
#X obj 36 30 metro 250;
#X obj 36 53 +;
#X obj 73 53 + 1;
#X obj 36 76 % 16, f 28;
#X obj 36 129 tabread \$0-pat;
#X floatatom 36 152 5 0 0 0 - - - 0;
#X text 90 160 Every 0 -- do nothing \; Every 1 -- trigger kick \;
Every 2 -- trigger snare;
#X obj 36 174 sel 1 2;
#X obj 193 32 r \$0-nSteps;
#X floatatom 302 166 5 0 0 0 - - - 0;
#X obj 302 188 sel 1 2;
#X msg 287 237 42;
#X msg 363 237 46;
#X text 316 237 HHC;
#X text 393 236 HHO;
#X text 356 174 Every 0 -- do nothing \; Every 1 -- trigger Hihat Closed
\; Every 2 -- trigger Hihat Open;
#X obj 302 145 tabread \$0-pat2;
#X obj 36 99 t f f, f 106;
#X obj 629 213 sel 0, f 23;
#X msg 629 236 127;
#X obj 904 509 bng 500 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X text 539 297 First beat of overall \; pattern is max velocity;
#X obj 780 245 % 4;
#X obj 748 276 sel 0 1 2 3;
#X obj 727 388 expr random (20 \, 70), f 11;
#X obj 712 340 expr random (100 \, 110), f 11;
#X obj 750 424 expr random (70 \, 95), f 11;
#X obj 827 390 expr random (20 \, 70), f 11;
#X floatatom 108 1 5 0 0 0 - - - 0;
#X connect 0 0 8 0;
#X connect 1 0 5 0;
#X connect 2 0 5 0;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 9 1;
#X connect 11 0 25 0;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 15 0 1 0;
#X connect 15 1 2 0;
#X connect 16 0 11 1;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 18 1 20 0;
#X connect 19 0 5 0;
#X connect 20 0 5 0;
#X connect 24 0 17 0;
#X connect 25 0 12 0;
#X connect 25 0 24 0;
#X connect 25 1 26 0;
#X connect 26 0 27 0;
#X connect 26 1 30 0;
#X connect 27 0 5 1;
#X connect 30 0 31 0;
#X connect 31 0 33 0;
#X connect 31 1 32 0;
#X connect 31 2 34 0;
#X connect 31 3 35 0;
#X connect 32 0 5 1;
#X connect 33 0 5 1;
#X connect 34 0 5 1;
#X connect 35 0 5 1;
#X connect 36 0 8 1;
#X restore 19 32 pd seq;
#X text 226 319 Markov Chain;
#X obj 1132 740 bng 10000 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-restTO 3 float 3;
#A 0 0 2 3;
#X coords 0 16 3 0 200 74 1 0 0;
#X restore 156 369 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-kickTO 3 float 3;
#A 0 3 0 2;
#X coords 0 16 3 0 200 74 1 0 0;
#X restore 157 458 graph;
#X text 378 458 This is the list of probabilities \; for what happens
if the last \; output was a KICK;
#X text 378 366 This is the list of probabilities \; for what happens
if the last \; output was a REST;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-snareTO 3 float 3;
#A 0 2 3 1;
#X coords 0 16 3 0 200 74 1 0 0;
#X restore 156 549 graph;
#X text 377 549 This is the list of probabilities \; for what happens
if the last \; output was a SNARE;
#X obj 49 411 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#N canvas 668 32 855 661 vel 0;
#X obj 24 32 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 24 52 f 16;
#X obj 24 98 sel 0 2 3 4, f 17;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-vel 16 float 3;
#A 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X coords 0 127 16 0 200 34 1 0 0;
#X restore 213 76 graph;
#X obj 52 254 array set \$0-vel;
#X obj 24 75 t f b, f 22;
#X msg 160 128 set;
#X msg 24 222 100 20 50;
#X msg 31 133 add2 100 20;
#X msg 42 165 add2 100 20 50;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 7 0;
#X connect 2 1 8 0;
#X connect 2 2 9 0;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X connect 8 0 7 0;
#X connect 9 0 7 0;
#X restore 854 266 pd vel;
#N canvas 1272 30 1555 1027 markovGenKick&Snare 0;
#X obj 37 37 inlet;
#X obj 37 60 f 16, f 14;
#X obj 37 83 until;
#X obj 38 446 tabwrite \$0-pat, f 53;
#X text 188 56 Every time we get a band \; 1-- we want to go to the
next index \; and then generate a \; 2 -- random value using \; \$0-probs
array;
#X obj 37 132 +;
#X obj 86 132 + 1;
#X obj 37 155 % 16, f 17;
#X obj 37 178 sel 0, f 49;
#X msg 37 223 1 0;
#X text 67 222 set index 0 to \; a value of 1;
#X text 66 249 i.e. set first beat \; to be a KICK;
#X text 428 175 For every other step: \; 1- set index to write to \;
2 - figure out what last value was \; 3 - generate new value using
probs of last \;;
#X obj 278 209 t f f, f 19;
#X obj 278 232 - 1;
#X text 306 230 go to previous \; index;
#X obj 278 263 tabread \$0-pat;
#X obj 278 286 sel 0 1 2;
#X obj 304 334 array random \$0-kickTO;
#X obj 194 363 array random \$0-restTO;
#X obj 310 393 array random \$0-snareTO;
#X obj 119 29 r \$0-nSteps;
#X obj 152 131 r \$0-nSteps;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 13 0;
#X connect 9 0 3 0;
#X connect 13 0 14 0;
#X connect 13 1 3 1;
#X connect 14 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 19 0;
#X connect 17 1 18 0;
#X connect 17 2 20 0;
#X connect 18 0 3 0;
#X connect 19 0 3 0;
#X connect 20 0 3 0;
#X connect 21 0 1 1;
#X connect 22 0 7 1;
#X restore 49 431 pd markovGenKick&Snare;
#X f 9;
#X obj 156 77 array size \$0-pat;
#X floatatom 159 19 5 0 0 0 nSteps - - 0;
#X obj 179 49 s \$0-nSteps;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-pat2 10 float 3;
#A 0 0 2 0 2 2 0 1 0 1 1;
#X coords 0 2 10 0 219 80 1 0 0;
#X restore 339 209 graph;
#X text 557 199 HHO (2);
#X text 558 237 HHC (1);
#X text 559 279 HHRest (0);
#X obj 166 106 array size \$0-pat2;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-HHrestTO 3 float 3;
#A 0 0 1 1;
#X coords 0 16 3 0 200 74 1 0 0;
#X restore 651 376 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-HHCTO 3 float 3;
#A 0 8.32434 12 2;
#X coords 0 16 3 0 200 74 1 0 0;
#X restore 651 468 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-HHOTO 3 float 3;
#A 0 10.3784 2 0;
#X coords 0 16 3 0 200 74 1 0 0;
#X restore 650 559 graph;
#X text 872 376 This is the list of probabilities \; for what happens
if the last \; output was a HH REST;
#X text 872 468 This is the list of probabilities \; for what happens
if the last \; output was a HihatClosed;
#X text 871 559 This is the list of probabilities \; for what happens
if the last \; output was a Hihat Open;
#N canvas 102 23 1015 855 markovGenHihat 1;
#X obj 37 37 inlet;
#X obj 37 60 f 16, f 14;
#X obj 37 83 until;
#X text 188 56 Every time we get a band \; 1-- we want to go to the
next index \; and then generate a \; 2 -- random value using \; \$0-probs
array;
#X obj 37 132 +;
#X obj 86 132 + 1;
#X obj 37 155 % 16, f 17;
#X text 265 170 For every other step: \; 1- set index to write to \;
2 - figure out what last value was \; 3 - generate new value using
probs of last \;;
#X obj 115 204 t f f, f 19;
#X obj 115 227 - 1;
#X text 143 225 go to previous \; index;
#X obj 115 281 sel 0 1 2;
#X obj 119 29 r \$0-nSteps;
#X obj 152 131 r \$0-nSteps;
#X obj 115 258 tabread \$0-pat2;
#X obj 31 358 array random \$0-HHrestTO;
#X obj 141 329 array random \$0-HHCTO;
#X obj 147 388 array random \$0-HHOTO;
#X obj 38 446 tabwrite \$0-pat2, f 53;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 4 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 18 1;
#X connect 9 0 14 0;
#X connect 11 0 15 0;
#X connect 11 1 16 0;
#X connect 11 2 17 0;
#X connect 12 0 1 1;
#X connect 13 0 6 1;
#X connect 14 0 11 0;
#X connect 15 0 18 0;
#X connect 16 0 18 0;
#X connect 17 0 18 0;
#X restore 24 499 pd markovGenHihat;
#X f 9;
#X text 153 390 Rest (0);
#X text 229 399 Kick (1);
#X text 298 392 Snare (2);
#X text 150 477 Rest (0);
#X text 226 486 Kick (1);
#X text 295 479 Snare (2);
#X text 150 574 Rest (0);
#X text 226 583 Kick (1);
#X text 295 576 Snare (2);
#X text 798 393 HHO (2);
#X text 727 395 HHC (1);
#X text 647 395 HHRest (0);
#X text 802 488 HHO (2);
#X text 731 490 HHC (1);
#X text 651 490 HHRest (0);
#X text 803 585 HHO (2);
#X text 732 587 HHC (1);
#X text 652 587 HHRest (0);
#X obj 428 67 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#N canvas 828 80 1195 855 funkyProbs 1;
#X obj 37 37 inlet;
#X text 104 10 Analyse Funky Drummer drum beat \, and use as probabilities
;
#X text 284 46 Kick to rest --> 3;
#X text 284 64 Kick to Kick --> 0;
#X text 286 84 Kick to Snare --> 2;
#X text 132 45 Rest to rest --> 0;
#X text 133 61 Rest to kick --> 2;
#X text 132 78 Rest to snare --> 3;
#X text 442 48 Snare to rest --> 2;
#X text 442 66 Snare to kick --> 3;
#X text 443 86 Snare to snare --> 1;
#X obj 33 176 array set \$0-restTO;
#X msg 34 151 0 2 3;
#X obj 85 232 array set \$0-kickTO;
#X msg 86 207 3 0 2;
#X obj 48 284 array set \$0-snareTO;
#X msg 49 259 2 3 1;
#X obj 44 119 t b b, f 65;
#X text 263 175 HHRest to hhrest --> 0;
#X text 443 215 hhc to hho --> 2;
#X text 267 191 hhRest to hhc --> 1;
#X text 266 208 hhRest to hho --> 1;
#X text 441 177 hhc to hhrest --> 0;
#X text 441 195 hhc to hhc --> 12;
#X text 599 179 hho to hhrest --> 0;
#X text 599 197 hho to hhc --> 2;
#X text 600 217 hho to hho --> 0;
#X obj 292 281 array set \$0-HHrestTO;
#X obj 344 337 array set \$0-HHCTO;
#X obj 307 389 array set \$0-HHOTO;
#X msg 293 256 0 1 1;
#X msg 345 312 0 12 2;
#X msg 308 364 0 2 0;
#X connect 0 0 17 0;
#X connect 12 0 11 0;
#X connect 14 0 13 0;
#X connect 16 0 15 0;
#X connect 17 0 12 0;
#X connect 17 0 14 0;
#X connect 17 0 16 0;
#X connect 17 1 30 0;
#X connect 17 1 31 0;
#X connect 17 1 32 0;
#X connect 30 0 27 0;
#X connect 31 0 28 0;
#X connect 32 0 29 0;
#X restore 428 87 pd funkyProbs;
#X obj 17 109 sigmund~;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 10 0 12 0;
#X connect 11 0 10 0;
#X connect 17 0 18 0;
#X connect 19 0 22 0;
#X connect 20 0 21 0;
#X connect 31 0 33 0;
#X connect 31 0 48 0;
#X connect 35 0 34 0;
#X connect 35 0 36 0;
#X connect 35 0 41 0;
#X connect 67 0 68 0;
